% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/filter_impute_invalid.R
\name{filter_impute_invalid}
\alias{filter_impute_invalid}
\title{数据清洗与可选插补}
\usage{
filter_impute_invalid(matrix, row_invalid_threshold = 0.6, col_invalid_threshold = 0.8, mean_threshold = 0.05, sd_threshold = 0.01, perform_imputation = TRUE)
}
\arguments{
\item{matrix}{输入的数值矩阵}

\item{row_invalid_threshold}{行非法值比例阈值，默认为 0.6}

\item{col_invalid_threshold}{列非法值比例阈值，默认为 0.8}

\item{mean_threshold}{行平均值阈值，默认为 0.05}

\item{sd_threshold}{行标准差阈值，默认为 0.01}

\item{perform_imputation}{是否执行 KNN 插补，默认为 TRUE}
}
\value{
清洗（和可能插补）后的矩阵
}
\description{
清理数据，并可选择是否使用 KNN 方法进行缺失值插补
}
\details{
此函数首先计算每行和每列中非法值（零值、\code{NA}、\code{NaN}、\code{Inf}）的比例，并根据设定的阈值移除包含过多非法值的行和列。
如果 \code{perform_imputation} 为 TRUE，则使用 KNN 方法进行缺失值插补。
然后移除低表达（平均值低于 \code{mean_threshold}）和低变异（标准差低于 \code{sd_threshold}）的行。
}
\examples{
# 安装并加载必要的包
# install.packages("impute")
# install.packages("matrixStats")

# 创建一个示例矩阵
set.seed(123)
data <- matrix(runif(100, 0, 1), nrow = 10)
data[sample(100, 10)] <- 0    # 添加一些零值
data[sample(100, 5)] <- NA    # 添加一些 NA 值
data[sample(100, 5)] <- Inf   # 添加一些 Inf 值
data[sample(100, 5)] <- NaN   # 添加一些 NaN 值

# 清洗并插补数据
cleaned_data <- filter_impute_invalid(data)
# 仅清洗数据，不进行插补
cleaned_data_no_impute <- filter_impute_invalid(data, perform_imputation = FALSE)
}
\author{
Fan Xingfu
}
